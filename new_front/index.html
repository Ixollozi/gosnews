{% extends "base.html" %}

{% load static %}

{% block title %}GovPortal - Davlat Xizmatlari{% endblock %}

{% block content %}
    <!-- Main Content -->
    <main class="main">
        <!-- Home Section -->
        <section id="home" class="section active">
            <!-- Hero Section -->
            <div class="hero">
                <div class="hero-content">
                    <h1 class="hero-title">Поддержка Вашего Успеха</h1>
                    <p class="hero-description">
                        Получите доступ к государственным программам поддержки, проверьте свою пригодность и получите помощь, необходимую для процветания.
                    </p>
                    <div class="hero-actions">
                        <button class="btn btn-primary btn-lg">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="3,11 22,2 13,21 11,13 3,11"></polygon>
                            </svg>
                            Найти программы поддержки
                        </button>
                        <button class="btn btn-outline btn-lg">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <path d="M9 9h6v6H9z"></path>
                            </svg>
                            Проверить долги
                        </button>
                    </div>
                </div>
            </div>

            <!-- Featured News -->
            <div class="featured-news">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Последние обновления</h2>
                    </div>
                    <div class="news-grid">
                        <article class="news-card ">
                            <div class="news-image">
                                <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&h=450&fit=crop" alt="Новость">
                            </div>
                            <div class="news-content">
                                <div class="news-meta">
                                    <span class="news-date">15 января 2024</span>
                                </div>
                                <h3 class="news-title">Новая программа поддержки малого бизнеса запущена в регионах</h3>
                                <p class="news-excerpt">Правительство выделило дополнительные средства на развитие предпринимательства</p>
                                <div class="news-author">
                                </div>
                            </div>
                        </article>

                        <article class="news-card">
                            <div class="news-image">
                                <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=400&h=250&fit=crop" alt="Новость">
                            </div>
                            <div class="news-content">
                                <div class="news-meta">
                                    <span class="news-date">14 января 2024</span>
                                </div>
                                <h3 class="news-title">Новая программа субсидий для сельского хозяйства</h3>
                                <p class="news-excerpt">Фермеры могут получить поддержку для развития растениеводства</p>
                            </div>
                        </article>

                        <article class="news-card">
                            <div class="news-image">
                                <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=400&h=250&fit=crop" alt="Новость">
                            </div>
                            <div class="news-content">
                                <div class="news-meta">
                                    <span class="news-date">13 января 2024</span>
                                </div>
                                <h3 class="news-title">Расширена программа грантов для IT-стартапов</h3>
                                <p class="news-excerpt">Размер грантов увеличен в два раза для поддержки молодых предпринимателей</p>
                            </div>
                        </article>
                    </div>
                </div>
            </div>

            <!-- Support Programs -->
            <div class="support-programs">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Программы поддержки</h2>
                    </div>
                    <div class="programs-grid">
                        <div class="program-card" data-category="business">
                            <h3 class="program-title">Льготные кредиты для малого бизнеса</h3>
                            <p class="program-description">Получите кредит под 5% годовых для развития своего дела</p>
                            <div class="program-tags">
                                <span class="tag">кредит</span>
                                <span class="tag">бизнес</span>
                            </div>
                            <button class="btn btn-outline">Подробнее</button>
                        </div>

                        <div class="program-card" data-category="agriculture">
                            <h3 class="program-title">Субсидии для фермеров</h3>
                            <p class="program-description">Государственная поддержка сельскохозяйственных проектов</p>
                            <div class="program-tags">
                                <span class="tag">субсидия</span>
                                <span class="tag">фермерство</span>
                            </div>
                            <button class="btn btn-outline">Подробнее</button>
                        </div>

                        <div class="program-card" data-category="social">
                            <h3 class="program-title">Программа доступного жилья</h3>
                            <p class="program-description">Льготные условия для приобретения жилья молодыми семьями</p>
                            <div class="program-tags">
                                <span class="tag">жилье</span>
                                <span class="tag">молодые семьи</span>
                            </div>
                            <button class="btn btn-outline">Подробнее</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Regions Preview -->
            <div class="regions-preview">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Региональные услуги</h2>
                    </div>
                    <div class="regions-content">
                        <div class="regions-map">
                            <iframe src="https://yandex.uz/map-widget/v1/org/123701252573/?ll=69.237650%2C41.311950&z=16"></iframe>
                        </div>
                        <div class="regions-list">
                            <h3>Наши регионы</h3>
                            <div class="region-item">
                                <span class="region-name">Центральный регион</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Северная территория</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Южное побережье</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Южное побережье</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Южное побережье</span>
                            </div>
                            <div class="region-item">
                                <span class="region-name">Южное побережье</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Partners -->
            <div class="partners">
                <div class="container">
                    <h2 class="section-title text-center">Наши партнеры</h2>
                    
                    <style>
                        /* Hide scroll buttons on mobile devices */
                        @media (max-width: 768px) {
                            .partners-scroll-btn {
                                display: none !important;
                            }
                            .partners-container {
                                gap: 0 !important;
                            }
                        }
                    </style>
                    
                    <script>
                        function updatePartnersButtons() {
                            const partnersGrid = document.getElementById('partnersGrid');
                            const scrollLeftBtn = document.getElementById('partnersScrollLeft');
                            const scrollRightBtn = document.getElementById('partnersScrollRight');
                            
                            if (partnersGrid && scrollLeftBtn && scrollRightBtn) {
                                const containerWidth = partnersGrid.parentElement.clientWidth;
                                const contentWidth = partnersGrid.scrollWidth;
                                const maxScroll = Math.max(0, contentWidth - containerWidth);
                                const currentScrollPosition = partnersGrid.scrollLeft;
                                
                                const isAtStart = currentScrollPosition <= 5;
                                const isAtEnd = currentScrollPosition >= (maxScroll - 5);
                                
                                scrollLeftBtn.disabled = isAtStart;
                                scrollRightBtn.disabled = isAtEnd;
                                scrollLeftBtn.style.opacity = isAtStart ? '0.5' : '1';
                                scrollRightBtn.style.opacity = isAtEnd ? '0.5' : '1';
                            }
                        }
                        
                        function scrollPartnersLeft() {
                            const partnersGrid = document.getElementById('partnersGrid');
                            if (partnersGrid) {
                                const currentScroll = partnersGrid.scrollLeft;
                                const scrollAmount = 200;
                                const newPosition = Math.max(0, currentScroll - scrollAmount);
                                partnersGrid.scrollLeft = newPosition;
                                updatePartnersButtons();
                            }
                        }
                        
                        function scrollPartnersRight() {
                            const partnersGrid = document.getElementById('partnersGrid');
                            if (partnersGrid) {
                                const currentScroll = partnersGrid.scrollLeft;
                                const containerWidth = partnersGrid.parentElement.clientWidth;
                                const contentWidth = partnersGrid.scrollWidth;
                                const maxScroll = Math.max(0, contentWidth - containerWidth);
                                const scrollAmount = 200;
                                
                                let newPosition = Math.min(maxScroll, currentScroll + scrollAmount);
                                if (newPosition >= maxScroll - 10) {
                                    newPosition = maxScroll;
                                }
                                
                                partnersGrid.scrollLeft = newPosition;
                                updatePartnersButtons();
                            }
                        }
                        
                        document.addEventListener('DOMContentLoaded', function() {
                            const partnersGrid = document.getElementById('partnersGrid');
                            if (partnersGrid) {
                                partnersGrid.addEventListener('scroll', updatePartnersButtons);
                                
                                setTimeout(function() {
                                    updatePartnersButtons();
                                }, 100);
                                
                                window.addEventListener('resize', function() {
                                    const containerWidth = partnersGrid.parentElement.clientWidth;
                                    const contentWidth = partnersGrid.scrollWidth;
                                    const maxScroll = Math.max(0, contentWidth - containerWidth);
                                    
                                    if (partnersGrid.scrollLeft > maxScroll) {
                                        partnersGrid.scrollLeft = maxScroll;
                                    }
                                    setTimeout(updatePartnersButtons, 100);
                                });
                            }
                        });
                    </script>
                    <div class="partners-container">
                        <button class="partners-scroll-btn partners-scroll-left" id="partnersScrollLeft" onclick="scrollPartnersLeft()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15,18 9,12 15,6"></polyline>
                            </svg>
                        </button>
                        <div class="partners-scroll-wrapper">
                            <div class="partners-grid" id="partnersGrid">
                        <div class="partner-item">
                            <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 1">
                        </div>
                        <div class="partner-item">
                            <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 2">
                        </div>
                        <div class="partner-item">
                            <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 3">
                        </div>
                        <div class="partner-item">
                                    <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 4">
                                </div>
                                <div class="partner-item">
                                    <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 5">
                                </div>
                                <div class="partner-item">
                                    <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 6">
                        </div>
                        <div class="partner-item">
                                    <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 7">
                        </div>
                        <div class="partner-item">
                                    <img src="https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=100&h=40&fit=crop&crop=center" alt="Партнер 8">
                                </div>
                        </div>
                        </div>
                        <button class="partners-scroll-btn partners-scroll-right" id="partnersScrollRight" onclick="scrollPartnersRight()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            
        

        <!-- Other sections would be added here -->
    </section>
    </main>
{% endblock %}
